{% extends 'base.html' %}
{% load static %}
{% block title %}Make Appointment{% endblock %}

{% block Content %}
<!-- Appointment Section -->
<section id="appointment" class="appointment section light-background">

    <!-- Section Title -->
    <div class="container section-title" data-aos="fade-up">
        
        
        
        {% if user.is_superuser %}
        <div class="container mt-4">
            <!-- Heading -->
            <h2 class="text-center fw-bold">VIEW MADE APPOINTMENT</h2>
            <p class="text-center text-muted"><i>Welcome to the Dentist Page! What would you like to do today?</i></p>
        
            <div class="row mt-4">
                <!-- Left side: View Appointments -->
                <div class="col-md-6 text-center p-4 border rounded shadow-sm bg-light">
                    <i class="fas fa-calendar-check fa-3x text-primary mb-3"></i>
                    <h4 class="fw-bold">Manage Appointments</h4>
                    <p>Click the button below to view all scheduled appointments. You can mark them as done once you have attended to the patient.</p>
                    <a href="{% url 'thee_app:appointment_show' %}" class="btn btn-primary w-75">
                        <i class="fas fa-eye"></i> View Pending Appointments
                    </a>
                </div>
        
                <!-- Right side: Payment -->
                <div class="col-md-6 text-center p-4 border rounded shadow-sm bg-light">
                    <i class="fas fa-money-bill-wave fa-3x text-success mb-3"></i>
                    <h4 class="fw-bold">Process Payments</h4>
                    <p>Send an Mpesa payment prompt to patients. They will receive a confirmation message once the payment is successful.</p>
                    <a href="{% url 'thee_app:pay' %}" class="btn btn-success w-75">
                        <i class="fas fa-mobile-alt"></i> Send Mpesa Prompt
                    </a>
                </div>
            </div>
        </div>
        
        <!-- Include FontAwesome for icons -->
        <script src="https://kit.fontawesome.com/your-kit-code.js" crossorigin="anonymous"></script>
        

        {% else %}

        <h2>MAKE AN APPOINTMENT</h2>
        <p><i>Welcome to our appointment Page! Your dental health is our priority?</i></p><br>
        <p>Plan your visit early by booking an appointment with one of our well-trained dentist now.</p>
            <p>
                Want to view your previous appointments?
                <button>
                    <a href="{% url 'thee_app:my_appointments' %}">See My Appointments</a>
                </button>
            </p><br>


            <div class="container" data-aos="fade-up" data-aos-delay="100">
                <form action="{% url 'thee_app:appointment' %}" method="post" role="form" class="php-email-form">
                    {% csrf_token %}
                    <div class="row">
                        <div class="col-md-4 form-group">
                            <label for="name">Full name</label>
                            <input type="text" name="name" class="form-control" id="name" placeholder="Your Name" required>
                        </div>
                        <div class="col-md-4 form-group mt-3 mt-md-0">
                            <label for="email">Your email</label>
                            <input type="email" class="form-control" name="email" id="email" placeholder="Your Email" required>
                        </div>
                        <div class="col-md-4 form-group mt-3 mt-md-0">
                            <label for="phone">Your phone number</label>
                            <input type="tel" class="form-control" name="phone" id="phone" placeholder="Your Phone" required>
                        </div>
                        
                    </div>
                    <div class="row">
                        <div class="col-md-4 form-group mt-3">
                            <label for="date">Select date and time of your visit</label>
                            <input type="datetime-local" name="date" class="form-control datepicker" id="date" placeholder="Appointment Date" required>
                        </div>
                    
                        <div class="col-md-4 form-group mt-3 mt-md-0">
                            <label for="department">Department you want to visit</label>
                            <select class="form-control" name="department" id="department" required>
                                <option value="" disabled selected>Select a department</option>
                                <option value="General Dentistry">General Dentistry</option>
                                <option value="Orthodontics">Cosmetic Dentistry</option>
                                <option value="Pediatric Dentistry">Teeth Whitening</option>
                                <option value="Periodontics">Dental Implants</option>
                                <option value="Oral Surgery">Oral Surgery</option>
                            </select>
                        </div>
                    
                        <div class="col-md-4 form-group mt-3 mt-md-0">
                            <label for="doctor">Dentist you want to see</label>
                            <select class="form-control" name="doctor" id="doctor" required>
                                <option value="" disabled selected>Select a dentist</option>
                                <option value="Dr. Duncan">Dr. Duncan Sangura</option>
                                <option value="Dr. Milton">Dr. Milton Kiprop</option>
                                <option value="Dr. Abdala">Dr. Abdala Kiptoo</option>
                                <option value="Dr. Hesron">Dr. Hesron Kibet</option>
                            </select>
                        </div>
                    </div>
                     
        
                    <div class="form-group mt-3">
                        <label for="message">Reason for your visit</label>
                        <textarea class="form-control" name="message" rows="5" placeholder="Message (Optional)"></textarea>
                    </div>
                    <div class="mt-3">
                        <div class="text-center"><button type="submit">Make an Appointment</button></div><br>
                        <div class="text-center"><a href="{% url 'thee_app:pay' %}" class="btn btn-success">Make a Payment to complete your appointment</a></div>
                        <div class="sent-message">Thank you!</div>
                    </div>
                </form>
            </div>



        {% endif %}
    </div><!-- End Section Title -->
    
    

</section><!-- /Appointment Section -->


{% endblock %}
